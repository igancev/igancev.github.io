---
title: Самый быстрый и понятный способ поднять VPN на своем сервере
excerpt: Разворачиваем в одну команду Wireguard VPN на собственном vps сервере, на базе docker
keywords: linux, vpn, wireguard, docker, linuxserver, docker-wireguard, linuxserver/docker-wireguard, vps, vds, server, ubuntu
tags: linux vpn wireguard docker vps server ubuntu
slug: simple-and-fast-install-vpn-wireguard-docker
mainImage: /assets/articles/simple-and-fast-install-vpn-wireguard-docker/simple-fast-vpn-wireguard-docker.png
---

![Иконка смартфона с wireguard, vpn, и иконка сервера с иконкой докера](/assets/articles/simple-and-fast-install-vpn-wireguard-docker/simple-fast-vpn-wireguard-docker.png)

Разворачиваем в одну команду `Wireguard VPN` на собственном vps сервере, на базе `docker`

<!--more-->

**UPD:** Есть более актуальный сетап [на протоколе VLESS + Reality](/2024-12-30-vless-reality-3x-ui-vpn),
рекомендую рассмотреть его **вместо** Wireguard!
{:.warning}

Инструкция упрощена для того, чтобы любой желающий в сжатые сроки
смог настроить vpn на своем сервере. Можно сказать, что это конспект
[другой моей статьи про настройку vpn](/2021-02-21-vpn-wireguard-docker).
{:.info}

## Порядок действий

### 1. Арендуем vps сервер

*Пропускаем этот шаг, если у вас уже есть сервер, который планируете настраивать*
{:.info}

- Выбираем хостинг провайдера, у которого арендуем сервер. Удобно на [poiskvps.ru](https://poiskvps.ru)
  - Определяемся с желаемой страной размещения
  - [Определяемся с системными требованиями](/2021-02-21-vpn-wireguard-docker#%D0%BA%D1%80%D0%B8%D1%82%D0%B5%D1%80%D0%B8%D0%B8-%D0%B2%D1%8B%D0%B1%D0%BE%D1%80%D0%B0-vps-%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80%D0%B0),
    *1cpu, 512Mb RAM, KVM, 100-1000 Mbit/sec*
  - ОС сервера выбираем **Ubuntu 20.04/18.04**
  - Регистрируемся, оплачиваем
    - Кто с этим не сталкивался, там нет ничего необычного. Обычная регистрация как на любом сайте. В личном
      кабинете интересующую конфигурацию сервера добавляем в корзину, оплачиваем любым доступным из предложенных способов. 
      *Реквизиты подключения к серверу по **ssh*** обычно приходят на электронную почту после его оплаты

Арендовать недорогой и надежный VPS для VPN в Европе, Азии, или в США можно [тут](https://firstbyte.ru/?from=108250).
{:.success}

### 2. Подключаемся по ssh

#### У вас на руках есть:

- **ip адрес сервера**, например `185.152.211.75`
- **имя пользователя** сервера, обычно это `root`, но зависит от хостинг провайдера
- **пароль** пользователя

#### Подключение

- Если у вас **Linux/MacOs**, выполняем команду в консоли: `ssh user@ip-адрес-сервера`

![Консоль, подключение по ssh](/assets/articles/simple-and-fast-install-vpn-wireguard-docker/ssh-connect.png)

- Если у вас **Windows**, необходимо скачать утилиту [Putty](https://www.putty.org/). 
  С ней все просто: скачиваем, устанавливаем, запускаем, вводим ip адрес сервера в поле *"Имя хоста"*.
  Или же через WSL, если знаете что это.

После чего необходимо ввести пароль, и мы попадаем на свой сервер.

### 3. Запускаем скрипт установки

Специально для быстрой установки я подготовил
и [выложил в open source](https://github.com/igancev/install-wireguard-docker/blob/master/installVpn.sh)
bash скрипт, автоматизирующий процесс установки,
подробно описанный мною в предыдущей статье [про Wireguard VPN](/2021-02-21-vpn-wireguard-docker). 

Исполняем команду:

```bash
sh -c "$(wget https://raw.githubusercontent.com/igancev/install-wireguard-docker/master/installVpn.sh -O -)"
```

Если потребуется, вводим пароль, и дожидаемся окончания установки.

### 4. Настройка клиентских девайсов

После окончания установки [можно настраивать устройства](/2021-02-21-vpn-wireguard-docker#%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0-%D1%81%D0%BC%D0%B0%D1%80%D1%82%D1%84%D0%BE%D0%BD%D0%BE%D0%B2),
с которых будем подключаться.

## Недостатки коммерческих VPN сервисов

Коммерческие VPN сервисы, платные или бесплатные, выполняют задачу туннелирования трафика. Некоторые лучше,
некоторые хуже. Но основная их проблема в том, что помимо платы за услуги vpn, **им выгодно** собирать и затем торговать
вашими данными. Компаниям доступен весь ваш трафик, что вы передаете и получаете, какие сервисы и сайты открываете.
Доступны ваши настоящие ip адреса. Некоторые компании изначально создавались с прицелом именно на бизнес модель
по воровству и перепродаже клиентских данных (особенно бесплатные). И хоть сервисы и заверяют об обратном, проверить
их заверения нет никакой возможности, их цель в получении максимальной прибыли. 

Клиентское ПО таких сервисов, как правило, **проприетарное**, т.е. с закрытым исходным кодом. Только разработчикам известно, какие
данные их ПО собирает с вашего устройства. В них могут быть заложены шпионские скрытые функции. Помимо этого, клиентское
программное обеспечение некоторых сервисов пагубно влияет на производительность системы, что очень заметно на слабом железе. Ваш компьютер
может тормозить, или батарея на смартфоне быстрее расходоваться ради того, чтобы недобросовестные владельцы бизнесов
обогащались за счет сбора ваших персональных данных.

Скорость работы, особенно на бесплатных сервисах, может сильно проседать, т.к. ресурсы серверов будут распределены между
сотнями других клиентов.

Власти стран, в рамках борьбы со средствами преодоления блокировок неугодных сайтов и сервисов, в первую очередь
направляют силы на блокировку адресов коммерческих VPN сервисов. Заплатив за платный коммерческий VPN не факт, что
вы сможете безболезненно им пользоваться. К тому же есть прецеденты, когда сервисы идут на сделку с властями, внедряя
собственные блокировки. Как например блокировать весь трафик BitTorrent для своих пользователей в рамках борьбы с
пиратским контентом.

Использования коммерческих VPN сервисов стоит избегать, и прибегать к ним можно **только в случае крайней необходимости**,
для временных срочных нужд.

## Преимущества своего vpn сервера

Самостоятельно настраивая на голой операционной системе арендованного сервера **свободное программное обеспечение**
с открытым кодом, такое как `Wireguard`, дает вам:

- Уверенность в том, ваши данные никто не собирает и не продает
- Как серверная часть, так и клиентская часть не содержит никаких скрытых функций, шпионских вставок
- Имеют небольшие системные требования, что позволяет работать на слабом железе
- Вся предоставленная хостинг провайдером ширина канала для вашего сервера доступна только для вашего пользования
- Вы сами решаете, сколько клиентских устройств подключать к вашему серверу. Тем самым можете существенно сэкономить,
даже если на первый взгляд аренда сервера за период выше, чем аналогичная стоимость VPN сервиса (но для ограниченного
количества устройств)
- Только вы контролируете ситуацию, держа свои данные под своим контролем

## Заключение

Сегодня вы на скорую руку настроили vpn, и быстро получили результат. Но чтобы
лучше понимать, как работает данное решение, рекомендую ознакомиться с [оригинальной статьей](/2021-02-21-vpn-wireguard-docker).

По возможности избегайте пользования коммерческими VPN сервисами, предпочитая взамен свободное ПО, установленное
на арендованном вами сервере. Изучайте Linux, его экосистему, дающую невероятные возможности, а главное свободу
от слежки и контроля больших корпораций. Всем добра!

## Комментарии

Если вы заметили неточность, знаете больше способов, у вас есть вопросы, или просто хотите это обсудить,
то [комментарии к данной статье можно оставить под постом в телеграме](https://t.me/igancev_ru/13).
